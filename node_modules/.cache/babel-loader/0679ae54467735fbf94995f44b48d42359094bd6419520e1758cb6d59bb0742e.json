{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rafaelestermann/Desktop/sopra/sopra-fs23-group-30-client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/rafaelestermann/Desktop/sopra/sopra-fs23-group-30-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/rafaelestermann/Desktop/sopra/sopra-fs23-group-30-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/rafaelestermann/Desktop/sopra/sopra-fs23-group-30-client/src/components/views/Game.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { api, handleError } from \"helpers/api\";\nimport { Spinner } from \"components/ui/Spinner\";\nimport { Button } from \"components/ui/Button\";\nimport BaseContainer from \"components/ui/BaseContainer\";\nimport PropTypes from \"prop-types\";\nimport \"styles/views/Game.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Player = function Player(_ref) {\n  var user = _ref.user;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"player container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player username\",\n      children: user.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player name\",\n      children: user.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player id\",\n      children: [\"id: \", user.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 3\n  }, _this);\n};\n_c = Player;\nPlayer.propTypes = {\n  user: PropTypes.object\n};\nvar Game = function Game() {\n  _s();\n  // use react-router-dom's hook to access the history\n\n  // define a state variable (using the state hook).\n  // if this variable changes, the component will re-render, but the variable will\n  // keep its value throughout render cycles.\n  // a component can have as many state variables as you like.\n  // more information can be found under https://reactjs.org/docs/hooks-state.html\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    users = _useState2[0],\n    setUsers = _useState2[1];\n  var logout = function logout() {\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n  };\n\n  // the effect hook can be used to react to change in your component.\n  // in this case, the effect hook is only run once, the first time the component is mounted\n  // this can be achieved by leaving the second argument an empty array.\n  // for more information on the effect hook, please see https://reactjs.org/docs/hooks-effect.html\n  useEffect(function () {\n    // effect callbacks are synchronous to prevent race conditions. So we put the async function inside:\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return api.get(\"/users\");\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 1000);\n              });\n            case 6:\n              // Get the returned users and update the state.\n              setUsers(response.data);\n\n              // This is just some data for you to see what is available.\n              // Feel free to remove it.\n              console.log(\"request to:\", response.request.responseURL);\n              console.log(\"status code:\", response.status);\n              console.log(\"status text:\", response.statusText);\n              console.log(\"requested data:\", response.data);\n\n              // See here to get more data.\n              console.log(response);\n              _context.next = 19;\n              break;\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Something went wrong while fetching the users: \\n\".concat(handleError(_context.t0)));\n              console.error(\"Details:\", _context.t0);\n              alert(\"Something went wrong while fetching the users! See the console for details.\");\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 14]]);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n    fetchData();\n  }, []);\n  var content = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 17\n  }, _this);\n  if (users) {\n    content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"game user-list\",\n        children: users.map(function (user) {\n          return /*#__PURE__*/_jsxDEV(Player, {\n            user: user\n          }, user.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        width: \"100%\",\n        onClick: function onClick() {\n          return logout();\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, _this);\n  }\n  return /*#__PURE__*/_jsxDEV(BaseContainer, {\n    className: \"game container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Happy Coding!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"game paragraph\",\n      children: \"Get all users from secure endpoint:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, _this), content]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, _this);\n};\n_s(Game, \"agkcAITZm3jfJZtUcsWKkI40X24=\");\n_c2 = Game;\nexport default Game;\nvar _c, _c2;\n$RefreshReg$(_c, \"Player\");\n$RefreshReg$(_c2, \"Game\");","map":{"version":3,"names":["useEffect","useState","api","handleError","Spinner","Button","BaseContainer","PropTypes","jsxDEV","_jsxDEV","Player","_ref","user","className","children","username","fileName","_jsxFileName","lineNumber","columnNumber","_this","name","id","_c","propTypes","object","Game","_s","_useState","_useState2","_slicedToArray","users","setUsers","logout","localStorage","removeItem","history","push","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","Promise","resolve","setTimeout","data","console","log","request","responseURL","status","statusText","t0","error","concat","alert","stop","content","map","width","onClick","_c2","$RefreshReg$"],"sources":["/Users/rafaelestermann/Desktop/sopra/sopra-fs23-group-30-client/src/components/views/Game.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { api, handleError } from \"helpers/api\";\nimport { Spinner } from \"components/ui/Spinner\";\nimport { Button } from \"components/ui/Button\";\nimport BaseContainer from \"components/ui/BaseContainer\";\nimport PropTypes from \"prop-types\";\nimport \"styles/views/Game.scss\";\n\nconst Player = ({ user }) => (\n  <div className=\"player container\">\n    <div className=\"player username\">{user.username}</div>\n    <div className=\"player name\">{user.name}</div>\n    <div className=\"player id\">id: {user.id}</div>\n  </div>\n);\n\nPlayer.propTypes = {\n  user: PropTypes.object,\n};\n\nconst Game = () => {\n  // use react-router-dom's hook to access the history\n\n  // define a state variable (using the state hook).\n  // if this variable changes, the component will re-render, but the variable will\n  // keep its value throughout render cycles.\n  // a component can have as many state variables as you like.\n  // more information can be found under https://reactjs.org/docs/hooks-state.html\n  const [users, setUsers] = useState(null);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n  };\n\n  // the effect hook can be used to react to change in your component.\n  // in this case, the effect hook is only run once, the first time the component is mounted\n  // this can be achieved by leaving the second argument an empty array.\n  // for more information on the effect hook, please see https://reactjs.org/docs/hooks-effect.html\n  useEffect(() => {\n    // effect callbacks are synchronous to prevent race conditions. So we put the async function inside:\n    async function fetchData() {\n      try {\n        const response = await api.get(\"/users\");\n\n        // delays continuous execution of an async operation for 1 second.\n        // This is just a fake async call, so that the spinner can be displayed\n        // feel free to remove it :)\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n\n        // Get the returned users and update the state.\n        setUsers(response.data);\n\n        // This is just some data for you to see what is available.\n        // Feel free to remove it.\n        console.log(\"request to:\", response.request.responseURL);\n        console.log(\"status code:\", response.status);\n        console.log(\"status text:\", response.statusText);\n        console.log(\"requested data:\", response.data);\n\n        // See here to get more data.\n        console.log(response);\n      } catch (error) {\n        console.error(\n          `Something went wrong while fetching the users: \\n${handleError(\n            error\n          )}`\n        );\n        console.error(\"Details:\", error);\n        alert(\n          \"Something went wrong while fetching the users! See the console for details.\"\n        );\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  let content = <Spinner />;\n\n  if (users) {\n    content = (\n      <div className=\"game\">\n        <ul className=\"game user-list\">\n          {users.map((user) => (\n            <Player user={user} key={user.id} />\n          ))}\n        </ul>\n        <Button width=\"100%\" onClick={() => logout()}>\n          Logout\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <BaseContainer className=\"game container\">\n      <h2>Happy Coding!</h2>\n      <p className=\"game paragraph\">Get all users from secure endpoint:</p>\n      {content}\n    </BaseContainer>\n  );\n};\n\nexport default Game;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}